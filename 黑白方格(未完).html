<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>toggleClass</title>	
	<script src="jquery.min.js"></script>
	<style>
		*{margin: 0;padding: 0;}
		body{background: snow;}
		.container{width: 600px;height: 600px;box-shadow: 0 0 3px #ccc;margin: 10px auto;
			}
		button{position: absolute;}
	</style>
	
	</head>
<body>
	<button>click me</button>
	<div class='container'></div>
	<script>
	var timer;
	$('button').click(function(){
		clearInterval(timer)
		timer=setInterval(function(){
			$('.container').append(add())
						  
			if($('div',$('.container')).length==36) clearInterval(timer);
			},100)
		})
		function add(){
			var odiv=$('<div></div>').css({
							width: '100',
							height: '100',
							'text-align': 'center',
							'line-height': '100',
							background: '#333',
							float: 'left',
							'box-shadow': '0 0 1px #fff' 
				})
					if($('div',$('.container')).length%2==0){
						odiv.css({
							background: '#fff',
							'box-shadow': '0 0 1px #333'
						})
					}

					return odiv;
		}
	</script>
</body>
</html>
